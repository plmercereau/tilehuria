- table:
    schema: auth
    name: account_providers
  object_relationships:
  - name: account
    using:
      foreign_key_constraint_on: account_id
  - name: provider
    using:
      foreign_key_constraint_on: auth_provider
- table:
    schema: auth
    name: account_roles
  object_relationships:
  - name: account
    using:
      foreign_key_constraint_on: account_id
  - name: roleByRole
    using:
      foreign_key_constraint_on: role
- table:
    schema: auth
    name: accounts
  object_relationships:
  - name: role
    using:
      foreign_key_constraint_on: default_role
  - name: user
    using:
      foreign_key_constraint_on: user_id
  array_relationships:
  - name: account_providers
    using:
      foreign_key_constraint_on:
        column: account_id
        table:
          schema: auth
          name: account_providers
  - name: account_roles
    using:
      foreign_key_constraint_on:
        column: account_id
        table:
          schema: auth
          name: account_roles
  - name: refresh_tokens
    using:
      foreign_key_constraint_on:
        column: account_id
        table:
          schema: auth
          name: refresh_tokens
- table:
    schema: auth
    name: providers
  array_relationships:
  - name: account_providers
    using:
      foreign_key_constraint_on:
        column: auth_provider
        table:
          schema: auth
          name: account_providers
- table:
    schema: auth
    name: refresh_tokens
  object_relationships:
  - name: account
    using:
      foreign_key_constraint_on: account_id
- table:
    schema: auth
    name: roles
  array_relationships:
  - name: account_roles
    using:
      foreign_key_constraint_on:
        column: role
        table:
          schema: auth
          name: account_roles
  - name: accounts
    using:
      foreign_key_constraint_on:
        column: default_role
        table:
          schema: auth
          name: accounts
- table:
    schema: public
    name: area_of_interest
  configuration:
    custom_root_fields:
      insert: insertAreaOfInterest
      select_aggregate: areaOfInterest_aggregate
      insert_one: insertOneAreaOfInterest
      select_by_pk: areaOfInterestByPk
      select: areaOfInterest
      delete: deleteAreaOfInterest
      update: updateAreaOfInterest
      delete_by_pk: deleteAreaOfInterestByPk
      update_by_pk: updateAreaOfInterestByPk
    custom_column_names:
      xyz_coordinates: xyzCoordinates
  array_relationships:
  - name: tileSets
    using:
      foreign_key_constraint_on:
        column: area_of_interest_id
        table:
          schema: public
          name: tile_set
  event_triggers:
  - name: generate_aoi_coordinates
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - source
    retry_conf:
      num_retries: 3
      interval_sec: 10
      timeout_sec: 60
    webhook_from_env: EVENT_AOI
- table:
    schema: public
    name: tile_provider
  configuration:
    custom_root_fields:
      insert: insertTileProvider
      select_aggregate: tileProviderAggregate
      insert_one: insertOneTileProvider
      select_by_pk: tileProviderByPk
      select: tileProvider
      delete: deleteTileProvider
      update: updateTileProvider
      delete_by_pk: deleteTileProviderByPk
      update_by_pk: updateTileProviderByPk
    custom_column_names: {}
  array_relationships:
  - name: tileSets
    using:
      foreign_key_constraint_on:
        column: tile_provider_id
        table:
          schema: public
          name: tile_set
- table:
    schema: public
    name: tile_set
  configuration:
    custom_root_fields:
      insert: insertTileSet
      select_aggregate: tileSetAggregate
      insert_one: insertOneTileSet
      select_by_pk: tileSetByPk
      select: tileSet
      delete: deleteTileSet
      update: updateTileSet
      delete_by_pk: deleteTileSetByPk
      update_by_pk: updateTileSetByPk
    custom_column_names: {}
  object_relationships:
  - name: areaOfInterest
    using:
      foreign_key_constraint_on: area_of_interest_id
  - name: tileProvider
    using:
      foreign_key_constraint_on: tile_provider_id
  event_triggers:
  - name: generate_tiles
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - area_of_interest_id
        - tile_provider_id
    retry_conf:
      num_retries: 3
      interval_sec: 10
      timeout_sec: 60
    webhook_from_env: EVENT_TILE_SET
- table:
    schema: public
    name: users
  object_relationships:
  - name: account
    using:
      manual_configuration:
        remote_table:
          schema: auth
          name: accounts
        column_mapping:
          id: user_id

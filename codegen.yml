overwrite: true
schema:
  - 'http://localhost:8080/v1/graphql':
      headers:
        x-hasura-admin-secret: ${HASURA_GRAPHQL_ADMIN_SECRET}
documents: 'src/**/*.graphql'
hooks:
  afterAllFileWrite:
    - prettier --write
# TODO single config for everyone
generates:
  hooks/src/generated/index.ts:
    plugins:
      - typescript
    config:
      maybeValue: T | undefined
      scalars:
        citext: string
        uuid: string
        timestamptz: Date
        jsonb: '{ [key: string]: any }'
      namingConvention:
        typeNames: pascal-case#pascalCase
        transformUnderscore: true
  worker/src/generated/index.ts:
    plugins:
      - typescript
    config:
      maybeValue: T | undefined
      scalars:
        citext: string
        uuid: string
        timestamptz: Date
        jsonb: '{ [key: string]: any }'
      namingConvention:
        typeNames: pascal-case#pascalCase
        transformUnderscore: true
  ./src/generated/fragment-matcher.ts:
    plugins:
      - fragment-matcher
    config:
      apolloClientVersion: 2
  src/generated/index.ts:
    plugins:
      - typescript
      - typescript-operations
      - typescript-vue-apollo
      - named-operations-object
    config:
      maybeValue: T | undefined
      scalars:
        citext: string
        uuid: string
        timestamptz: Date
        jsonb: '{ [key: string]: any }'
      namingConvention:
        typeNames: pascal-case#pascalCase
        transformUnderscore: true
      fragmentVariableSuffix: ''
      documentVariableSuffix: ''

  ./schema.graphql:
    plugins:
      - schema-ast
